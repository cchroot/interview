<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>nodejs精选面试题 | 小墨鱼的面试笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/interview/egg.png">
    <meta name="description" content="小墨鱼的面试笔记">
    
    <link rel="preload" href="/interview/assets/css/0.styles.41202823.css" as="style"><link rel="preload" href="/interview/assets/js/app.315fcd90.js" as="script"><link rel="preload" href="/interview/assets/js/3.2951d97b.js" as="script"><link rel="preload" href="/interview/assets/js/10.7ffca870.js" as="script"><link rel="prefetch" href="/interview/assets/js/11.a796a1e1.js"><link rel="prefetch" href="/interview/assets/js/12.c1a92f5b.js"><link rel="prefetch" href="/interview/assets/js/13.e23fb603.js"><link rel="prefetch" href="/interview/assets/js/14.6fe10376.js"><link rel="prefetch" href="/interview/assets/js/15.39fcb4a0.js"><link rel="prefetch" href="/interview/assets/js/16.a28d5ced.js"><link rel="prefetch" href="/interview/assets/js/17.a2ae2507.js"><link rel="prefetch" href="/interview/assets/js/18.f4d5c0b7.js"><link rel="prefetch" href="/interview/assets/js/19.9675a5ad.js"><link rel="prefetch" href="/interview/assets/js/2.51e9aef8.js"><link rel="prefetch" href="/interview/assets/js/20.eff5de6d.js"><link rel="prefetch" href="/interview/assets/js/21.39b07448.js"><link rel="prefetch" href="/interview/assets/js/22.2526b024.js"><link rel="prefetch" href="/interview/assets/js/23.e582a7d7.js"><link rel="prefetch" href="/interview/assets/js/24.6fab991d.js"><link rel="prefetch" href="/interview/assets/js/25.a11720bf.js"><link rel="prefetch" href="/interview/assets/js/26.ad35af4b.js"><link rel="prefetch" href="/interview/assets/js/27.a807c0ff.js"><link rel="prefetch" href="/interview/assets/js/28.43ec09a9.js"><link rel="prefetch" href="/interview/assets/js/29.40a4c8d6.js"><link rel="prefetch" href="/interview/assets/js/30.80f06240.js"><link rel="prefetch" href="/interview/assets/js/31.e254c535.js"><link rel="prefetch" href="/interview/assets/js/32.becfed3a.js"><link rel="prefetch" href="/interview/assets/js/33.169d624d.js"><link rel="prefetch" href="/interview/assets/js/34.e75ce0f2.js"><link rel="prefetch" href="/interview/assets/js/35.cfd2a91d.js"><link rel="prefetch" href="/interview/assets/js/36.813fc716.js"><link rel="prefetch" href="/interview/assets/js/37.1834af1c.js"><link rel="prefetch" href="/interview/assets/js/38.b3a019c6.js"><link rel="prefetch" href="/interview/assets/js/39.c64b6de1.js"><link rel="prefetch" href="/interview/assets/js/4.4edc6fe1.js"><link rel="prefetch" href="/interview/assets/js/40.20696ba5.js"><link rel="prefetch" href="/interview/assets/js/41.364a730f.js"><link rel="prefetch" href="/interview/assets/js/42.ee2aef05.js"><link rel="prefetch" href="/interview/assets/js/43.752ba15f.js"><link rel="prefetch" href="/interview/assets/js/44.667525a3.js"><link rel="prefetch" href="/interview/assets/js/45.b2834a73.js"><link rel="prefetch" href="/interview/assets/js/46.f874b150.js"><link rel="prefetch" href="/interview/assets/js/47.b7dd2d1e.js"><link rel="prefetch" href="/interview/assets/js/48.0b79ef3e.js"><link rel="prefetch" href="/interview/assets/js/49.bb77babc.js"><link rel="prefetch" href="/interview/assets/js/5.5f1bafd5.js"><link rel="prefetch" href="/interview/assets/js/50.66c1fd87.js"><link rel="prefetch" href="/interview/assets/js/51.15241f09.js"><link rel="prefetch" href="/interview/assets/js/52.0d2383ca.js"><link rel="prefetch" href="/interview/assets/js/53.439b2bec.js"><link rel="prefetch" href="/interview/assets/js/6.8b1e859e.js"><link rel="prefetch" href="/interview/assets/js/7.2e1d4b27.js"><link rel="prefetch" href="/interview/assets/js/8.06e19e8e.js"><link rel="prefetch" href="/interview/assets/js/9.98b67c20.js">
    <link rel="stylesheet" href="/interview/assets/css/0.styles.41202823.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/interview/" class="home-link router-link-active"><img src="/interview/egg.png" alt="小墨鱼的面试笔记" class="logo"> <span class="site-name can-hide">小墨鱼的面试笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/interview/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/interview/pages/interview notes/JS 基础知识点.html" class="nav-link">
  面试笔记
</a></div><div class="nav-item"><a href="/interview/pages/interview questions/js基础面试题.html" class="nav-link">
  精选面试题
</a></div><div class="nav-item"><a href="https://github.com/cchroot/interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/interview/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/interview/pages/interview notes/JS 基础知识点.html" class="nav-link">
  面试笔记
</a></div><div class="nav-item"><a href="/interview/pages/interview questions/js基础面试题.html" class="nav-link">
  精选面试题
</a></div><div class="nav-item"><a href="https://github.com/cchroot/interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/js基础面试题.html" class="sidebar-link">js基础面试题</a></li><li><a href="/interview/pages/interview questions/js进阶面试题.html" class="sidebar-link">js进阶面试题</a></li><li><a href="/interview/pages/interview questions/一些需要注意的js输出问题整理.html" class="sidebar-link">一些需要注意的js输出问题整理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/CSS精选面试题.html" class="sidebar-link">CSS精选面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/vue基础面试题.html" class="sidebar-link">vue基础面试题</a></li><li><a href="/interview/pages/interview questions/vue进阶面试题.html" class="sidebar-link">vue进阶面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/react基础面试题.html" class="sidebar-link">react基础面试题</a></li><li><a href="/interview/pages/interview questions/react进阶面试题.html" class="sidebar-link">react进阶面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/webpack精选面试题.html" class="sidebar-link">webpack精选面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>性能优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/性能优化面试题.html" class="sidebar-link">性能优化面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTTP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/HTTP精选面试题.html" class="sidebar-link">HTTP精选面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>安全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/安全精选面试题.html" class="sidebar-link">安全精选面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/nodejs精选面试题.html" class="active sidebar-link">nodejs精选面试题</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>设计模式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/设计模式精选面试题.html" class="sidebar-link">设计模式精选面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其它</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/pages/interview questions/其它面试题.html" class="sidebar-link">其它面试题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nodejs精选面试题"><a href="#nodejs精选面试题" class="header-anchor">#</a> nodejs精选面试题</h1> <h3 id="_1、node如何开启一个http服务"><a href="#_1、node如何开启一个http服务" class="header-anchor">#</a> 1、node如何开启一个http服务？</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 引入内置http模块
var http = require('http');

// 创建一个简单服务器，访问http://127.0.0.1:3000/,显示Hello World
http.createServer(function(req, res) {
    res.end('Hello World\n');
}).listen(3000, '127.0.0.1');
console.log('Server running at http://127.0.0.1:3000/');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2、讲一下你对node的了解"><a href="#_2、讲一下你对node的了解" class="header-anchor">#</a> 2、讲一下你对node的了解</h3> <p>node 是基于 Chrome v8引擎的JavaScript运行环境（虚拟机）;</p> <ul><li>基本上是 Node.js 基于事件驱动的架构，其中 I/O 异步运行，使其轻量且高效。</li> <li>它也被用于开发桌面应用程序以及 electron 框架，因为它提供了 API 来访问 OS（操作系统） 级别的功能，例如文件系统、网络等。</li></ul> <p>特点:具有事件驱动,非阻塞I/O模型,高并发和轻量级,单线程,单进程特点;</p> <h3 id="_3、node-js-如何克服-i-o-操作阻塞的问题"><a href="#_3、node-js-如何克服-i-o-操作阻塞的问题" class="header-anchor">#</a> 3、Node.js 如何克服 I/O 操作阻塞的问题 ？</h3> <p>由于 node.js 有一个事件循环，可用于以异步方式处理所有 I/O 操作，而不会阻塞 main 函数。</p> <ul><li>如果需要进行一些网络调用，它将被安排在事件循环中，而不是主线程（单线程）中。</li> <li>如果有多个这样的 I/O 调用，每个调用都会相应地排队分别执行（除了主线程）。</li></ul> <p>因此，即使我们有单线程 JS，I/O 操作也是以非阻塞方式处理的。</p> <p>单线程：Node.js 是作为异步处理的实验显式创建的，即在单个线程上进行异步处理，而不是通过不同框架进行缩放的现有基于线程的实现。</p> <h3 id="_4、node-js-中有多少种-api-函数"><a href="#_4、node-js-中有多少种-api-函数" class="header-anchor">#</a> 4、Node.js 中有多少种 API 函数 ？</h3> <p>有两种类型的 API 函数：</p> <ul><li>异步、非阻塞函数：主要是 I/O 操作，可以从主循环中分叉出来。</li> <li>同步的、阻塞的函数 ：主要是影响在主循环中运行的进程的操作。</li></ul> <p>###5、 如果 Node.js 是单线程的，那么它如何处理并发？</p> <p>主循环是单线程的，所有异步调用都由 libuv 库管理。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 应用案例</span>
<span class="token keyword">const</span> crypto <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;crypto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> start <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">logHashTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  crypto<span class="token punctuation">.</span><span class="token function">pbkdf2</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token string">&quot;sha512&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hash: &quot;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">logHashTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1213</span>
<span class="token function">logHashTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1225</span>
<span class="token function">logHashTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1212</span>
<span class="token function">logHashTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1222</span>

<span class="token comment">// 这是因为 libuv 设置了一个线程池来处理这种并发。线程池中有多少线程取决于内核数量，但您可以覆盖它。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_6、node-js-中的-fork-是什么"><a href="#_6、node-js-中的-fork-是什么" class="header-anchor">#</a> 6、Node.js 中的 fork 是什么 ？</h3> <ul><li>通常，fork 用于生成子进程。</li> <li>在 node 中，它用于创建一个新的 v8 引擎实例来运行多个 worker 来执行代码。</li></ul> <h3 id="_7、node-js-中的事件循环是什么"><a href="#_7、node-js-中的事件循环是什么" class="header-anchor">#</a> 7、Node.JS 中的事件循环是什么？</h3> <p>但凡异步函数，都由事件循环使用队列和侦听器进行管理。我们可以使用下图得到这个想法：</p> <p><img src="/interview/assets/img/node_1.54d23d4f.png" alt="node事件循环"></p> <p>因此，当需要执行异步函数（或 I/O）时，主线程会将其发送到另一个线程，从而允许 v8 继续执行主代码。</p> <ul><li>事件循环涉及不同阶段的特定任务，例如计时器、挂起的回调、空闲或准备、轮询、检查、使用不同的 FIFO 队列关闭回调。</li> <li>此外，在迭代之间，它会检查异步 I/O 或计时器，如果没有异步 I/O 或计时器，则会完全关闭。</li></ul> <h3 id="_8、node底层了解吗"><a href="#_8、node底层了解吗" class="header-anchor">#</a> 8、node底层了解吗?</h3> <p>用 libuv 和一些其他库拓展了 js 在前端没有实现的功能。v8 是执行 js 代码的， libuv 是 nodejs 的底层支撑，包括事件循环，文件IO,网络IO，定时器等实现。代码的结构是 nodejs 内置js模块，比如 http，net，fs，然后内置js模块是调用c++层的代码，比如net调用h ttp://tcp_wrap.cc，然后 c++ 层调用 libuv 层的代码，libuv 完成任务后，再往回调。</p> <h3 id="_9、什么是线程池-node-js-中哪个库处理它"><a href="#_9、什么是线程池-node-js-中哪个库处理它" class="header-anchor">#</a> 9、什么是线程池，Node.js 中哪个库处理它 ?</h3> <p>线程池由 libuv 库处理。</p> <ul><li>libuv 是一个多平台的 C 库，它支持基于异步 I/O 的操作，例如文件系统、网络和并发。</li></ul> <p><img src="/interview/assets/img/node_2.8c4fb27f.png" alt="node事件循环"></p> <h3 id="_10、v8了解多少"><a href="#_10、v8了解多少" class="header-anchor">#</a> 10、v8了解多少</h3> <ul><li><p>v8是谷歌开源的高性能JavaScript引擎的名称,谷歌在浏览页面时由v8负责js的处理并执行</p></li> <li><p>v8引擎提供了JavaScript的运行环境,dom和其他web api则由浏览器来提供.</p></li> <li><p>v8引擎独立于托管它的浏览器,基于这个关键特性 V8 于 2009 年被选为为 Node.js 提供支持的引擎</p></li> <li><p>底层是基于c++开发的,既能独立运行,又可以嵌入c++应用中</p></li> <li><p>经过不断的改进v8引擎具有高性能和跨平台的特性,且可运行于 Mac、Windows、Linux 和其他一些系统</p></li> <li><p>v8使用了JIT编译出即时机器码,能极大提高js编译速度</p></li> <li><p>借鉴了java vm的垃圾回收机制,能精准回收垃圾</p></li></ul> <h3 id="_11、如何通过集群提高-node-js-的性能"><a href="#_11、如何通过集群提高-node-js-的性能" class="header-anchor">#</a> 11、如何通过集群提高 Node.js 的性能？</h3> <p>Node.js 应用程序在单个处理器上运行，这意味着默认情况下它们不会利用多核系统。</p> <ul><li>集群模式用于启动多个 node.js 进程，从而拥有多个事件循环实例。</li> <li>当我们开始在后台的 nodejs 应用程序中使用集群时，会创建多个 node.js 进程，但还有一个称为集群管理器的父进程，它负责监控我们应用程序各个实例的健康状况。</li></ul> <p><img src="/interview/assets/img/node_3.fcc2deb2.png" alt="node事件循环"></p> <h3 id="_12、工作线程与集群有何不同"><a href="#_12、工作线程与集群有何不同" class="header-anchor">#</a> 12、工作线程与集群有何不同 ？</h3> <p>集群（Cluster）：</p> <ul><li>每个 CPU 上都有一个进程与 IPC 进行通信。</li> <li>如果我们想让多个服务器通过单个端口接受 HTTP 请求，集群会很有帮助。</li> <li>这些进程在每个 CPU 中产生，因此将具有单独的内存和节点实例，这将进一步导致内存问题。</li></ul> <p>工作线程：</p> <ul><li>总共只有一个进程有多个线程。</li> <li>每个线程都有一个 Node 实例（一个事件循环，一个 JS 引擎），大多数 API 都可以访问。</li> <li>与其他线程共享内存（例如 SharedArrayBuffer）</li> <li>这可用于处理数据或访问文件系统等 CPU 密集型任务，因为 NodeJS 是单线程的，同步任务可以更有效地利用工作线程。</li></ul> <h3 id="_13、node-js-中的事件发射器是什么"><a href="#_13、node-js-中的事件发射器是什么" class="header-anchor">#</a> 13、Node.js 中的事件发射器是什么 ？</h3> <ul><li>EventEmitter是一个 Node.js 类，它包含所有基本上能够发出事件的对象。</li> <li>这可以通过使用 eventEmitter.on()函数附加由对象发出的命名事件来完成。</li></ul> <p>因此，每当这个对象抛出一个甚至附加的函数时，都会同步调用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> EventEmitter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;events&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">MyEmitter</span> <span class="token keyword">extends</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> myEmitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myEmitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;an event occurred!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myEmitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_14、如何测量异步操作的持续时间"><a href="#_14、如何测量异步操作的持续时间" class="header-anchor">#</a> 14、如何测量异步操作的持续时间 ？</h3> <p>Performance API 为我们提供了找出必要性能指标的工具，一个简单的例子是使用 async_hooks 和 perf_hooks：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> async_hooks <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;async_hooks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> performance<span class="token punctuation">,</span> PerformanceObserver <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;perf_hooks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hook <span class="token operator">=</span> async_hooks<span class="token punctuation">.</span><span class="token function">createHook</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;Timeout&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Timeout-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-Init</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
      performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Timeout-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-Destroy</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Timeout-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Timeout-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-Init</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Timeout-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-Destroy</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hook<span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  performance<span class="token punctuation">.</span><span class="token function">clearMarks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obs<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> entryTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;measure&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> buffered<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="_15、如何衡量异步操作的性能"><a href="#_15、如何衡量异步操作的性能" class="header-anchor">#</a> 15、如何衡量异步操作的性能 ？</h3> <p>Performance API 为我们提供了找出必要性能指标的工具。如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> PerformanceObserver<span class="token punctuation">,</span> performance <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;perf_hooks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>
  performance<span class="token punctuation">.</span><span class="token function">clearMarks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obs<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> entryTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;measure&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token string">&quot;Start to Now&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">doSomeLongRunningProcess</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token string">&quot;A to Now&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token string">&quot;A to B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_16、对于-node-js-为什么-google-使用-v8-引擎"><a href="#_16、对于-node-js-为什么-google-使用-v8-引擎" class="header-anchor">#</a> 16、对于 Node.js，为什么 Google 使用 V8 引擎 ？</h3> <p>那么，还有其他选择吗？是的，当然，我们有来自 Firefox 的Spidermonkey，来自 Edge 的 Chakra</p> <ul><li>但 Google 的 v8 是发展最快的（因为它是开源的，所以有一个巨大的社区帮助开发功能和修复错误）和最快的（因为它是用 c++ 编写的）</li> <li>作为一个 JavaScript 和 WebAssembly 引擎。它可以移植到几乎所有已知的机器上。</li></ul> <h3 id="_17、为什么要把-express-应用和服务器分开"><a href="#_17、为什么要把-express-应用和服务器分开" class="header-anchor">#</a> 17、为什么要把 Express 应用和服务器分开 ？</h3> <ul><li>服务器负责初始化路由、中间件和其他应用程序逻辑，而应用程序具有所有业务逻辑，这些业务逻辑将由服务器启动的路由提供服务。</li> <li>这确保了业务逻辑被封装并与应用程序逻辑解耦，从而使项目更具可读性和可维护性。</li></ul> <h3 id="_18、解释-node-js-中的-reactor-模式是什么"><a href="#_18、解释-node-js-中的-reactor-模式是什么" class="header-anchor">#</a> 18、解释 Node.js 中的 Reactor 模式是什么 ？</h3> <p>Reactor 模式又是一种用于非阻塞 I/O 操作的模式，但总的来说，这用于任何事件驱动的架构。</p> <p>这里面有两个组件：Reactor 和 Handler</p> <ul><li>Reactor：它的工作是将 I/O 事件分派给适当的处理程序</li> <li>Handler：它的工作是实际处理这些事件</li></ul> <h3 id="_19、什么是中间件"><a href="#_19、什么是中间件" class="header-anchor">#</a> 19、什么是中间件 ？</h3> <p>中间件介于请求和业务逻辑之间。</p> <ul><li>它主要用于捕获日志并启用速率限制、路由、身份验证，基本上是任何不属于业务逻辑的部分。</li> <li>当然，还有第三方中间件，例如 body-parser，您可以为特定用例编写自己的中间件。</li></ul> <h3 id="_20、什么是-node-js-缓冲区"><a href="#_20、什么是-node-js-缓冲区" class="header-anchor">#</a> 20、什么是 node.js 缓冲区？</h3> <p>通常，缓冲区是一个临时内存，流主要使用它来保存一些数据，直到被消耗为止。</p> <ul><li>与 JavaScript 的 Unit8Array 相比，缓冲区还引入了其他用例，主要用于表示固定长度的字节序列。</li> <li>它还支持 ASCII、utf-8 等传统编码。它是 v8 之外的固定（不可调整大小）分配内存。</li></ul> <h3 id="_21、什么是-node-js-流"><a href="#_21、什么是-node-js-流" class="header-anchor">#</a> 21、什么是 node.js 流 ？</h3> <p>Streams 是 EventEmitter 的实例，可用于处理 Node.js 中的流数据。</p> <ul><li>它们可用于处理和操作网络上的流式大文件（视频、mp3 等）。他们使用缓冲区作为临时存储。</li> <li></li></ul> <p>流主要有四种类型：</p> <ul><li>Writable：可以写入数据的流（例如，fs.createWriteStream()）</li> <li>Readable：可以从中读取数据的流（例如，fs.createReadStream()）</li> <li>Duplex：既可读又可写的流（例如，net.Socket）</li> <li>Transform：可以在写入和读取数据时修改或转换数据的双工流（例如，zlib.createDeflate()）</li></ul> <h3 id="_22、鉴权有了解过了"><a href="#_22、鉴权有了解过了" class="header-anchor">#</a> 22、鉴权有了解过了？</h3> <ul><li><p>HTTP Basic Authentication (HTTP基本认证)</p></li> <li><p>session-cookie</p></li> <li><p>Token 验证(包括JWT,SSO)</p></li> <li><p>OAuth(开放授权)</p></li></ul> <p>我们普通网站常用的认证就是 session-cookie 的方式，用户向服务端发生请求，服务端会创建 session 并保存相关身份信息，并向客户端下发一个 sessionId,大家如果用心的话，会发现跟JAVA交互的时候，浏览器会有一个 JSESSION_ID，跟 PHP 交互的时候，会有一个 PHPSESSION_ID;后面的每次请求，客户端都会自动带上这个 cookie 跟服务端通信。</p> <p>实际上大家要明白每一种方式的作用；SSO 主要用来做单点登录；OAuth 主要用来做第三方网站授权；JWT 就是一种便于扩展的跨域认证解决方案，通常会考察这个。</p> <h3 id="说说-token-登录模式"><a href="#说说-token-登录模式" class="header-anchor">#</a> 说说 token 登录模式</h3> <p>Token登录模式是一种在Web应用中进行身份验证和授权的常见方式。它基于令牌（Token）的概念，通过在客户端和服务器之间传递令牌来验证用户的身份和授权访问。</p> <p>以下是Token登录模式的一般工作流程：</p> <ol><li><p>用户提供凭据：用户在登录页面上提供用户名和密码等凭据。</p></li> <li><p>身份验证：服务器接收到用户提供的凭据后，进行身份验证。通常，服务器会检查用户名和密码是否匹配，并验证用户的身份。</p></li> <li><p>生成令牌：如果身份验证成功，服务器会生成一个令牌（Token）。令牌是一个加密的字符串，其中包含有关用户身份和权限的信息。</p></li> <li><p>令牌返回给客户端：服务器将生成的令牌发送回客户端作为登录凭据的一部分。通常，令牌会被存储在客户端的Cookie或本地存储中。</p></li> <li><p>请求授权：客户端在后续的请求中将令牌包含在请求头、查询参数或Cookie中，并发送给服务器。</p></li> <li><p>令牌验证：服务器接收到请求后，会验证令牌的有效性和完整性。服务器可以解密令牌并检查其中的信息，例如用户ID、角色、权限等。</p></li> <li><p>授权访问：如果令牌验证成功，服务器会授权用户访问请求的资源或执行请求的操作。服务器可以使用令牌中的信息来确定用户的权限级别和可访问的资源。</p></li> <li><p>令牌过期和刷新：令牌通常具有过期时间。当令牌过期时，客户端可以使用刷新令牌（Refresh Token）来获取新的令牌，而无需重新进行身份验证。</p></li></ol> <p>Token登录模式的主要优势包括：</p> <ul><li><p>无状态：服务器不需要在后端存储用户的会话信息，因为所有必要的信息都包含在令牌中。这使得服务器可以更轻松地进行水平扩展和负载均衡。</p></li> <li><p>跨域支持：令牌可以在跨域请求中使用，因为令牌可以在请求头、查询参数或Cookie中传递。</p></li> <li><p>安全性：令牌可以使用加密算法进行签名和验证，确保令牌的完整性和安全性。此外，令牌还可以通过设置短期过期时间和使用刷新令牌来增加安全性。</p></li> <li><p>可扩展性：Token登录模式可以与其他身份验证和授权机制结合使用，例如多因素身份验证、单点登录（SSO）等。</p></li></ul> <p>总的来说，Token登录模式通过使用令牌来验证用户身份和授权访问，提供了一种安全、可扩展和无状态的身份验证机制。它已经成为现代Web应用中常见的身份验证方式之一。</p> <h3 id="什么是-nestjs-它有什么优点和特点"><a href="#什么是-nestjs-它有什么优点和特点" class="header-anchor">#</a> 什么是 NestJS？它有什么优点和特点？</h3> <p>NestJS 是一个用于构建高效、可扩展的服务器端应用程序的框架。它基于 TypeScript，并且使用了面向对象的编程（OOP）和函数式编程（FP）的概念，同时结合了 Express.js 的灵活性和 Angular 的模块化思想。以下是 NestJS 的一些优点和特点：</p> <ol><li><p>基于 TypeScript：NestJS 使用 TypeScript 作为主要开发语言，这使得代码更具可读性、可维护性和可扩展性。TypeScript 提供了静态类型检查和最新的 ECMAScript 特性支持，使开发过程更加高效和安全。</p></li> <li><p>模块化架构：NestJS 借鉴了 Angular 的模块化思想，通过模块的概念将应用程序划分为一组功能相关的模块。这种模块化的架构使得应用程序的组织和维护更加简单和可扩展。</p></li> <li><p>强大的依赖注入（DI）：NestJS 提供了一个强大的依赖注入容器，可以方便地管理和组织应用程序的各个组件和服务。依赖注入使得代码解耦、可测试性更强，并且有助于实现可扩展的架构。</p></li> <li><p>内置的 HTTP 框架支持：NestJS 内置了对 Express.js 的支持，并提供了一组装饰器和工具，简化了处理 HTTP 请求和响应的过程。这使得开发者可以使用熟悉的 Express.js API，并且能够轻松地集成其他中间件和插件。</p></li> <li><p>强大的路由系统：NestJS 提供了一个灵活且易于使用的路由系统，可以通过装饰器和装饰器链式调用的方式定义路由和请求处理程序。这种声明式的路由定义方式使得代码更加清晰和可读，并且提供了更好的可维护性。</p></li> <li><p>可插拔的中间件支持：NestJS 支持使用中间件来处理请求和响应，这使得开发者可以在请求处理过程中添加各种功能，例如身份验证、日志记录、错误处理等。NestJS 的中间件系统支持全局中间件和局部中间件，提供了灵活的配置选项。</p></li> <li><p>良好的生态系统：NestJS 拥有庞大的生态系统，提供了许多官方和第三方的模块、插件和工具，可以方便地集成和使用其他流行的库和框架，例如 TypeORM、GraphQL、WebSocket 等。</p></li></ol> <p>总的来说，NestJS 是一个功能强大、可扩展的服务器端应用程序框架，它结合了 TypeScript 的优势、模块化架构、依赖注入、内置的 HTTP 框架支持和强大的路由系统等特点。这些特点使得开发者可以更轻松地构建可维护、可测试和高效的应用程序。</p> <h3 id="说说-nestjs-的核心设计思想和原理"><a href="#说说-nestjs-的核心设计思想和原理" class="header-anchor">#</a> 说说 Nestjs 的核心设计思想和原理</h3> <p>NestJS 的核心设计思想是使用现代化的面向对象编程（OOP）和函数式编程（FP）的概念来构建可扩展、模块化和可测试的应用程序。以下是一些与 NestJS 相关的核心设计思想和原理：</p> <ol><li><p>模块化架构：NestJS 使用模块化的架构来组织应用程序。每个功能相关的组件（例如控制器、服务、中间件等）都被组织在一个模块中。模块之间可以相互依赖和引用，从而构建出一个完整的应用程序。这种模块化的设计使得应用程序的组织和维护更加简单和可扩展。</p></li> <li><p>依赖注入（DI）：NestJS 提供了一个强大的依赖注入容器，用于管理应用程序中的组件和服务。依赖注入使得代码解耦、可测试性更强，并且有助于实现可扩展的架构。通过将依赖关系的创建和解析委托给 DI 容器，NestJS 可以自动处理组件之间的依赖关系，并在需要时创建和注入相应的实例。</p></li> <li><p>路由系统：NestJS 提供了一个灵活且易于使用的路由系统，用于处理 HTTP 请求。开发者可以使用装饰器和装饰器链式调用的方式来定义路由和请求处理程序。这种声明式的路由定义方式使得代码更加清晰和可读，并且提供了更好的可维护性。NestJS 的路由系统支持常见的 HTTP 方法（GET、POST、PUT、DELETE 等），并且可以处理各种路由参数和查询参数。</p></li> <li><p>中间件支持：NestJS 支持使用中间件来处理请求和响应。中间件可以在请求处理过程中添加各种功能，例如身份验证、日志记录、错误处理等。NestJS 的中间件系统支持全局中间件和局部中间件，可以灵活配置和使用。</p></li> <li><p>异步编程：NestJS 鼓励使用异步编程来提高应用程序的性能和可伸缩性。它提供了一些异步编程的机制，例如异步服务、异步控制器方法、异步中间件等。这些机制可以与 JavaScript 的异步特性（例如 Promise、async/await）结合使用，使开发者能够编写高效的异步代码。</p></li> <li><p>强大的生态系统：NestJS 拥有庞大的生态系统，提供了许多官方和第三方的模块、插件和工具，可以方便地集成和使用其他流行的库和框架，例如 TypeORM、GraphQL、WebSocket 等。这些模块和插件可以通过简单的配置和集成，扩展 NestJS 的功能和能力。</p></li></ol> <p>通过这些核心设计思想和原理，NestJS 提供了一个强大且灵活的框架，使开发者能够构建可扩展、模块化和可测试的应用程序。它结合了现代化的编程概念和丰富的生态系统，为构建复杂的服务器端应用程序提供了便利和效率。</p> <h3 id="koa、express-的核心设计思想和原理"><a href="#koa、express-的核心设计思想和原理" class="header-anchor">#</a> Koa、Express 的核心设计思想和原理</h3> <p>Koa 和 Express 是两个流行的 Node.js Web 框架，它们有一些共同的核心设计思想和原理，同时也有一些区别。以下是它们的核心设计思想和原理的概述：</p> <p>Express 的核心设计思想和原理：</p> <ol><li><p>中间件架构：Express 使用中间件架构来处理请求和响应。中间件是一个函数，可以访问请求对象（req）、响应对象（res）和下一个中间件函数（next）。每个请求都会经过一系列的中间件函数，每个中间件函数可以对请求和响应进行处理或者将控制权传递给下一个中间件函数。这种中间件架构使得开发者可以按照需要添加、删除或者修改中间件，从而实现灵活的请求处理逻辑。</p></li> <li><p>路由系统：Express 提供了一个简单而灵活的路由系统，用于定义和处理不同的路由。开发者可以使用路由定义来匹配请求的 URL 和 HTTP 方法，并指定相应的处理函数。这使得开发者可以根据不同的 URL 和方法，定义不同的请求处理逻辑。</p></li> <li><p>请求和响应对象：Express 提供了方便的请求对象（req）和响应对象（res），使开发者能够访问和操作请求和响应的各个方面，例如请求头、请求体、响应头、响应体等。这些对象提供了许多有用的方法和属性，使开发者能够更轻松地处理和操作请求和响应。</p></li></ol> <p>Koa 的核心设计思想和原理：</p> <ol><li><p>异步中间件流程控制：Koa 强调使用异步中间件来处理请求和响应，以提供更好的性能和可伸缩性。Koa 使用 <code>async/await</code> 或者返回 Promise 的中间件函数，使得中间件可以按照顺序执行异步操作，而不需要嵌套的回调函数。这种异步中间件流程控制使得代码更加清晰和易于理解。</p></li> <li><p>上下文对象：Koa 引入了上下文对象（context），它是一个封装了请求和响应的对象。上下文对象提供了许多方便的方法和属性，使开发者能够更方便地访问和操作请求和响应的各个方面。上下文对象还提供了一些辅助方法，例如 <code>throw</code> 和 <code>assert</code>，用于处理错误和断言。</p></li> <li><p>中间件洋葱模型：Koa 的中间件执行顺序遵循洋葱模型。这意味着每个中间件函数可以在处理请求之前和之后执行一些操作，从而形成一个环绕式的执行流程。这种洋葱模型使得中间件可以在请求处理过程中执行前置操作和后置操作，例如身份验证、日志记录等。</p></li></ol> <p>总的来说，Express 和 Koa 都是基于中间件架构的 Node.js Web 框架，它们的核心设计思想和原理都围绕着中间件的概念展开。Express 更加简单和直接，注重灵活性和易用性，而 Koa 则更加注重异步编程和中间件流程控制，提供了更强大的异步处理能力。开发者可以根据自己的需求和偏好选择适合的框架来构建 Node.js Web 应用程序。</p> <h3 id="_23、其他面试题"><a href="#_23、其他面试题" class="header-anchor">#</a> 23、其他面试题</h3> <p><a href="https://juejin.cn/post/6844903951742025736" target="_blank" rel="noopener noreferrer">NodeJS有难度的面试题，你能答对几个？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview/pages/interview questions/安全精选面试题.html" class="prev">
        安全精选面试题
      </a></span> <span class="next"><a href="/interview/pages/interview questions/设计模式精选面试题.html">
        设计模式精选面试题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/interview/assets/js/app.315fcd90.js" defer></script><script src="/interview/assets/js/3.2951d97b.js" defer></script><script src="/interview/assets/js/10.7ffca870.js" defer></script>
  </body>
</html>
